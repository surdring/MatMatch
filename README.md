# æ™ºèƒ½ç‰©æ–™æŸ¥é‡å·¥å…· - MatMatch

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºç»“æ„åŒ–è§£æä¸æ¨¡ç³ŠåŒ¹é…çš„æ™ºèƒ½ç‰©æ–™æŸ¥é‡å·¥å…·ï¼Œæ—¨åœ¨è§£å†³ERPç³»ç»Ÿä¸­å› ç‰©æ–™æè¿°ä¸è§„èŒƒå¯¼è‡´çš„é‡å¤ç¼–ç é—®é¢˜ã€‚é€šè¿‡"å¯¹ç§°å¤„ç†"çš„æ ¸å¿ƒåŸåˆ™å’Œä¸€ç³»åˆ—æ•°æ®é©±åŠ¨çš„ç®—æ³•ï¼Œå®ç°å¯¹æµ·é‡ç‰©æ–™æ•°æ®çš„é«˜æ•ˆã€ç²¾å‡†æŸ¥é‡ã€‚

**å½“å‰è¿›åº¦**: Phase 0-4å·²å®Œæˆï¼ˆ100%ï¼‰ï¼ŒPhase 5å¾…å¼€å‘ï¼ˆ0%ï¼‰

> ğŸ“– **è¯¦ç»†è¿›åº¦å’Œä»»åŠ¡åˆ†è§£**: æŸ¥çœ‹ [`specs/main/tasks.md`](specs/main/tasks.md) â­ å•ä¸€äº‹å®æ¥æºï¼ˆSSOTï¼‰

**æ ¸å¿ƒç‰¹æ€§**:
- âœ… **é«˜æ€§èƒ½**: æ‰¹é‡æŸ¥é‡â‰¤3ç§’/30æ¡ï¼ŒæŸ¥è¯¢å“åº”<120ms
- âœ… **é«˜å‡†ç¡®ç‡**: Top-10å‡†ç¡®ç‡100%ï¼Œå¯¹ç§°å¤„ç†ä¸€è‡´æ€§100%
- âœ… **æ•°æ®é©±åŠ¨**: 27,408ä¸ªåŒä¹‰è¯ã€1,594ä¸ªåˆ†ç±»ã€6æ¡æå–è§„åˆ™
- âœ… **å®Œæ•´å…¨æ ˆ**: FastAPIåç«¯ + Vue.jså‰ç«¯ + ç®¡ç†åå°
- âœ… **ç”¨æˆ·å‹å¥½**: æ‹–æ‹½ä¸Šä¼ ã€æ™ºèƒ½æ£€æµ‹ã€3æ­¥å‘å¯¼ã€Excelå¯¼å‡º

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

> ğŸ“– **æ–°å¼€å‘è€…å…¥èŒ**: è¯·å…ˆé˜…è¯» [`docs/developer_onboarding_guide.md`](docs/developer_onboarding_guide.md) è·å–å®Œæ•´çš„å…¥èŒæŒ‡å—ï¼ˆå­¦ä¹ è·¯å¾„ã€å…³é”®æ¦‚å¿µã€ä»£ç æ¨¡å—ã€ç¯å¢ƒé…ç½®ã€éªŒè¯æ¸…å•ç­‰ï¼‰ã€‚

### 1. ç¯å¢ƒè®¾ç½®ï¼ˆå¿«é€Ÿç‰ˆï¼‰

```bash
# 1. æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
.\venv\Scripts\activate  # Windows
# æˆ– source venv/bin/activate  # Linux/Mac

# 2. å®‰è£…ä¾èµ–
pip install -r backend/requirements.txt
pip install -r database/requirements.txt

# 3. é…ç½®æ•°æ®åº“è¿æ¥
# åˆ›å»º backend/.env æ–‡ä»¶å¹¶å¡«å…¥æ•°æ®åº“é…ç½®
```

> ğŸ“– **è¯¦ç»†é…ç½®è¯´æ˜**: [`docs/configuration_guide.md`](docs/configuration_guide.md) - åŒ…å«è™šæ‹Ÿç¯å¢ƒã€PostgreSQLã€Oracleé…ç½®ã€ç¯å¢ƒå˜é‡æ¨¡æ¿ã€å¸¸è§é—®é¢˜è§£å†³ç­‰ã€‚

### 2. åˆå§‹åŒ–æ•°æ®åº“ï¼ˆé¦–æ¬¡è®¾ç½®ï¼‰

```bash
# æ–¹æ¡ˆAï¼šåˆå§‹åŒ–çŸ¥è¯†åº“ï¼ˆæ¨èç”¨äºå¼€å‘ç¯å¢ƒï¼‰
cd database
python run_full_import_verification.py

# æ–¹æ¡ˆBï¼šä»Oracle ERPå…¨é‡åŒæ­¥ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
.\venv\Scripts\python.exe backend\scripts\run_etl_full_sync.py --batch-size 1000
```

### 3. è¿è¡Œåç«¯æœåŠ¡

```bash
# å¯åŠ¨FastAPIå¼€å‘æœåŠ¡å™¨
cd backend
uvicorn api.main:app --reload --host 0.0.0.0 --port 8000

# è®¿é—®APIæ–‡æ¡£
# Swagger UI: http://localhost:8000/docs
# å¥åº·æ£€æŸ¥: http://localhost:8000/health
```

---

## ğŸ§® æ ¸å¿ƒç®—æ³•åŸç†ï¼ˆæ¦‚è¿°ï¼‰

æœ¬é¡¹ç›®çš„æŸ¥é‡æœºåˆ¶åŸºäºä»¥ä¸‹ç»è¿‡çœŸå®æ•°æ®éªŒè¯çš„æ ¸å¿ƒç®—æ³•ï¼š

### 1. å¯¹ç§°å¤„ç†ï¼ˆSymmetric Processingï¼‰
**ETLç¦»çº¿å¤„ç†å’Œåœ¨çº¿APIæŸ¥è¯¢ä½¿ç”¨å®Œå…¨ç›¸åŒçš„ç®—æ³•**ï¼Œç¡®ä¿æ•°æ®ä¸€è‡´æ€§ã€‚

**4æ­¥å¤„ç†æµç¨‹**:
1. **ç±»åˆ«æ£€æµ‹** - åŸºäº1,594ä¸ªåˆ†ç±»å…³é”®è¯
2. **æ–‡æœ¬è§„èŒƒåŒ–** - å…¨è§’åŠè§’ã€å¤§å°å†™ã€æ ‡ç‚¹ç¬¦å·
3. **åŒä¹‰è¯æ›¿æ¢** - åŸºäº27,408ä¸ªè¯å…¸
4. **å±æ€§æå–** - åŸºäº6æ¡æ­£åˆ™è¡¨è¾¾å¼è§„åˆ™ï¼ˆç½®ä¿¡åº¦88%-98%ï¼‰

### 2. å¤šå­—æ®µåŠ æƒç›¸ä¼¼åº¦ç®—æ³•
```
æ€»ç›¸ä¼¼åº¦ = 0.4 Ã— åç§°ç›¸ä¼¼åº¦ + 0.3 Ã— æè¿°ç›¸ä¼¼åº¦ + 0.2 Ã— å±æ€§ç›¸ä¼¼åº¦ + 0.1 Ã— ç±»åˆ«ç›¸ä¼¼åº¦
```

**æŠ€æœ¯å®ç°**:
- **PostgreSQL pg_trgm**: ä¸‰å…ƒç»„æ¨¡ç³ŠåŒ¹é…ï¼ˆTrigram + GINç´¢å¼•ï¼‰
- **JSONBè¿ç®—ç¬¦**: ç»“æ„åŒ–å±æ€§ç›¸ä¼¼åº¦è®¡ç®—
- **LRU+TTLç¼“å­˜**: æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–

### 3. æ€§èƒ½æŒ‡æ ‡

| æŒ‡æ ‡ | ç›®æ ‡ | å®é™…è¡¨ç° |
|------|------|----------|
| ETLå¤„ç†é€Ÿåº¦ | â‰¥1,000æ¡/åˆ†é’Ÿ | âœ… >24,000æ¡/åˆ†é’Ÿ |
| æŸ¥è¯¢å“åº”æ—¶é—´ | â‰¤500ms | âœ… å¹³å‡116.76ms |
| Top-10å‡†ç¡®ç‡ | â‰¥90% | âœ… 100% |
| å¯¹ç§°å¤„ç†ä¸€è‡´æ€§ | â‰¥99.9% | âœ… 100% |

> ğŸ“– **è¯¦ç»†ç®—æ³•è¯´æ˜å’Œä»£ç ç¤ºä¾‹**: [`specs/main/design.md`](specs/main/design.md) ç¬¬2.0èŠ‚ - æ ¸å¿ƒç®—æ³•åŸç†

---

## ğŸ“Š é¡¹ç›®æ¶æ„

### æ ¸å¿ƒæ¨¡å—

```
MatMatch/
â”œâ”€â”€ backend/              # åç«¯æœåŠ¡ âœ… Phase 0-3å®Œæˆ
â”‚   â”œâ”€â”€ api/              # FastAPIæœåŠ¡ï¼ˆ15ä¸ªç®¡ç†API + 6ä¸ªæŸ¥è¯¢APIï¼‰
â”‚   â”œâ”€â”€ core/             # æ ¸å¿ƒç®—æ³•
â”‚   â”‚   â”œâ”€â”€ processors/   # UniversalMaterialProcessorï¼ˆ527è¡Œï¼‰
â”‚   â”‚   â””â”€â”€ calculators/  # SimilarityCalculatorï¼ˆ503è¡Œï¼‰
â”‚   â”œâ”€â”€ etl/              # ETLæ•°æ®ç®¡é“ï¼ˆ>24,000æ¡/åˆ†é’Ÿï¼‰
â”‚   â”œâ”€â”€ models/           # SQLAlchemy ORMï¼ˆ7å¼ è¡¨ï¼‰
â”‚   â””â”€â”€ tests/            # 170+æµ‹è¯•ç”¨ä¾‹ï¼ˆ95%+é€šè¿‡ç‡ï¼‰
â”œâ”€â”€ frontend/             # å‰ç«¯åº”ç”¨ âœ… Phase 4å®Œæˆ
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/        # MaterialSearchï¼ˆ999è¡Œï¼‰ã€Adminï¼ˆ109è¡Œï¼‰
â”‚   â”‚   â”œâ”€â”€ components/   # æ–‡ä»¶ä¸Šä¼ ã€åˆ—é…ç½®ã€ç®¡ç†åå°ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/       # PiniaçŠ¶æ€ç®¡ç†ï¼ˆmaterialã€adminã€userï¼‰
â”‚   â”‚   â”œâ”€â”€ api/          # APIå®¢æˆ·ç«¯ï¼ˆ21ä¸ªç«¯ç‚¹ï¼‰
â”‚   â”‚   â””â”€â”€ utils/        # Excelå·¥å…·ã€Composables
â”‚   â””â”€â”€ package.json      # 294ä¸ªnpmåŒ…
â”œâ”€â”€ database/             # çŸ¥è¯†åº“ç”Ÿæˆå·¥å…· âœ…
â”œâ”€â”€ specs/                # éœ€æ±‚ä¸è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ main/requirements.md  # ä¸šåŠ¡éœ€æ±‚
â”‚   â”œâ”€â”€ main/design.md        # æŠ€æœ¯è®¾è®¡
â”‚   â””â”€â”€ main/tasks.md         # é¡¹ç›®è¿›åº¦ â­ SSOT
â””â”€â”€ docs/                 # é¡¹ç›®æ–‡æ¡£
    â”œâ”€â”€ developer_onboarding_guide.md  # å…¥èŒæŒ‡å—ï¼ˆv2.6ï¼‰
    â”œâ”€â”€ python_files_structure.md      # æ–‡ä»¶ç»“æ„è¯´æ˜
    â””â”€â”€ configuration_guide.md         # é…ç½®æŒ‡å—
```

> ğŸ“– **è¯¦ç»†ä»£ç æ¨¡å—è¯´æ˜**: [`docs/developer_onboarding_guide.md`](docs/developer_onboarding_guide.md) ç¬¬4èŠ‚

---

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### ğŸ¯ æ ¸å¿ƒæ–‡æ¡£ï¼ˆå¿…è¯»ï¼‰

| æ–‡æ¡£ | ç”¨é€” | é˜…è¯»æ—¶é•¿ |
|------|------|----------|
| [`specs/main/requirements.md`](specs/main/requirements.md) | ä¸šåŠ¡éœ€æ±‚ã€ç”¨æˆ·æ•…äº‹ã€éªŒæ”¶æ ‡å‡† | 1å°æ—¶ |
| [`specs/main/design.md`](specs/main/design.md) | ç³»ç»Ÿæ¶æ„ã€ç®—æ³•è®¾è®¡ã€APIå®šä¹‰ | 2-3å°æ—¶ |
| [`specs/main/tasks.md`](specs/main/tasks.md) â­ | **é¡¹ç›®è¿›åº¦**ã€ä»»åŠ¡åˆ†è§£ã€éªŒæ”¶æ ‡å‡† | 1å°æ—¶ |

### ğŸ“– å¼€å‘è€…æ–‡æ¡£

| æ–‡æ¡£ | ç”¨é€” |
|------|------|
| [`docs/developer_onboarding_guide.md`](docs/developer_onboarding_guide.md) | æ–°å¼€å‘è€…å®Œæ•´å…¥èŒæŒ‡å—ï¼ˆå­¦ä¹ è·¯å¾„ã€å…³é”®æ¦‚å¿µã€ä»£ç æ¨¡å—ã€ç¯å¢ƒé…ç½®ã€éªŒè¯æ¸…å•ã€å¸¸è§é—®é¢˜ï¼‰ |
| [`docs/configuration_guide.md`](docs/configuration_guide.md) | å®Œæ•´çš„ç¯å¢ƒå’Œæ•°æ®åº“é…ç½®æŒ‡å— |
| [`.gemini_logs/2025-10-04/`](.gemini_logs/2025-10-04/) | å†å²å®æ–½æ—¥å¿—å’Œæ¶æ„å†³ç­–è®°å½• |

### ğŸš€ å¿«é€Ÿå¯¼èˆª

**æˆ‘æƒ³...**
- **äº†è§£é¡¹ç›®è¿›åº¦** â†’ [`specs/main/tasks.md`](specs/main/tasks.md)
- **å¼€å§‹å¼€å‘** â†’ [`docs/developer_onboarding_guide.md`](docs/developer_onboarding_guide.md)
- **é…ç½®ç¯å¢ƒ** â†’ [`docs/configuration_guide.md`](docs/configuration_guide.md)
- **ç†è§£ç®—æ³•** â†’ [`specs/main/design.md`](specs/main/design.md) ç¬¬2.0èŠ‚
- **æŸ¥çœ‹API** â†’ å¯åŠ¨æœåŠ¡åè®¿é—® http://localhost:8000/docs

---

## ğŸ“ æŠ€æœ¯æ ˆ

**åç«¯**:
- Python 3.11+ / FastAPI / SQLAlchemy 2.0+ (å¼‚æ­¥ORM)
- PostgreSQL 14+ (ä¸»æ•°æ®åº“) + Oracle (æ•°æ®æº)
- Pydantic (é…ç½®å’ŒéªŒè¯)

**å‰ç«¯** âœ…:
- Vue.js 3.4.21 / Vite 5.2.8 / TypeScript 5.4.0
- Element Plus 2.6.3 / Pinia 2.1.7 / Vue Router 4.3.0
- Axios 1.6.8 / xlsx (SheetJS)

**ç®—æ³•**:
- PostgreSQL pg_trgm (ä¸‰å…ƒç»„æ¨¡ç³ŠåŒ¹é…)
- æ­£åˆ™è¡¨è¾¾å¼ (å±æ€§æå–)
- Hashè¡¨ (åŒä¹‰è¯æ›¿æ¢)

---

## ğŸ“ˆ é¡¹ç›®é‡Œç¨‹ç¢‘

| Phase | çŠ¶æ€ | å®Œæˆæ—¶é—´ | æ ¸å¿ƒæˆæœ |
|-------|------|----------|----------|
| Phase 0 | âœ… å®Œæˆ | 2025-10-03 | çŸ¥è¯†åº“æ„å»ºï¼ˆ6è§„åˆ™+27,408åŒä¹‰è¯+1,594åˆ†ç±»ï¼‰ |
| Phase 1 | âœ… å®Œæˆ | 2025-10-04 | ETLç®¡é“ï¼ˆ>24,000æ¡/åˆ†é’Ÿï¼Œ100%ä¸€è‡´æ€§ï¼‰ |
| Phase 2 | âœ… å®Œæˆ | 2025-10-04 | æ ¸å¿ƒç®—æ³•ï¼ˆ116mså“åº”ï¼Œ100%å‡†ç¡®ç‡ï¼‰ |
| Phase 3 | âœ… å®Œæˆ | 2025-10-08 | FastAPIå®Œæ•´APIï¼ˆ21ä¸ªç«¯ç‚¹ï¼Œ95.7%æµ‹è¯•é€šè¿‡ï¼‰ |
| Phase 4 | âœ… å®Œæˆ | 2025-10-09 | Vue.jså‰ç«¯ï¼ˆ~8,000è¡Œï¼Œ8æ¬¡ä¼˜åŒ–è¿­ä»£ï¼‰ |
| Phase 5 | ğŸ“… å¾…å¼€å‘ | - | ç³»ç»Ÿé›†æˆæµ‹è¯• + ç”Ÿäº§éƒ¨ç½² |

> ğŸ“– **è¯¦ç»†å®Œæˆæƒ…å†µå’ŒéªŒæ”¶æ ‡å‡†**: [`specs/main/tasks.md`](specs/main/tasks.md)

---

## ğŸ§ª æµ‹è¯•è¦†ç›–

| æ¨¡å— | æµ‹è¯•ç±»å‹ | é€šè¿‡ç‡ | æµ‹è¯•æ•°é‡ |
|------|----------|--------|----------|
| ETLç®¡é“ | å•å…ƒæµ‹è¯• + è¾¹ç•Œæµ‹è¯• | 100% | 45ä¸ª |
| æ ¸å¿ƒç®—æ³• | å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯• | 100% | 61ä¸ª |
| APIæ¡†æ¶ | å•å…ƒæµ‹è¯• + é›†æˆæµ‹è¯• | 100% | 45ä¸ª |
| æ‰¹é‡æŸ¥é‡API | å•å…ƒæµ‹è¯• | 100% | 28ä¸ª |
| ç®¡ç†åå°API | å•å…ƒæµ‹è¯• | 95.7% | 46ä¸ª |
| **æ€»è®¡** | - | **99.1%** | **225ä¸ª** |

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest backend/tests/ -v

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡
pytest backend/tests/ --cov=backend --cov-report=html
```

---

## ğŸ“ è”ç³»æ–¹å¼

**é¡¹ç›®è´Ÿè´£äºº**: ä¿¡æ¯è‡ªåŠ¨åŒ–éƒ¨éƒ‘å­¦æ©

**è·å–å¸®åŠ©**:
1. æŸ¥é˜… [`docs/developer_onboarding_guide.md`](docs/developer_onboarding_guide.md) å¸¸è§é—®é¢˜éƒ¨åˆ†
2. æŸ¥çœ‹ [`.gemini_logs/`](.gemini_logs/) å†å²å®æ–½æ—¥å¿—
3. è”ç³»é¡¹ç›®è´Ÿè´£äºº

---

**é¡¹ç›®è¿›åº¦**: Phase 0-3.2å·²å®Œæˆï¼ˆ67%ï¼‰  
**æœ€åæ›´æ–°**: 2025-10-05  
**æ–‡æ¡£ç‰ˆæœ¬**: 2.0
