# MatMatch é¡¹ç›®é…ç½® - å½“å‰ç¯å¢ƒ

**æœ€åæ›´æ–°**: 2025-10-08  
**é¡¹ç›®è·¯å¾„**: `D:\develop\python\MatMatch`

---

## ğŸ“ è™šæ‹Ÿç¯å¢ƒ

**è·¯å¾„**: `D:\develop\python\MatMatch\venv`

**æ¿€æ´»å‘½ä»¤**:
```bash
# Windows
.\venv\Scripts\activate

# æˆ–å®Œæ•´è·¯å¾„
D:\develop\python\MatMatch\venv\Scripts\activate
```

---

## ğŸ—„ï¸ æ•°æ®åº“é…ç½®

### PostgreSQL (ä¸»æ•°æ®åº“)
```
æ•°æ®åº“å: matmatch
ä¸»æœº: 127.0.0.1
ç«¯å£: 5432
ç”¨æˆ·: postgres
å¯†ç : xqxatcdj
```

**è¿æ¥URL**:
```
postgresql+asyncpg://postgres:xqxatcdj@127.0.0.1:5432/matmatch
```

### Oracle ERP (æ•°æ®æº)
```
ä¸»æœº: 192.168.80.90
ç«¯å£: 1521
æœåŠ¡å: ORCL
ç”¨æˆ·å: matmatch_read
å¯†ç : matmatch_read
```

**DSN**:
```
192.168.80.90:1521/ORCL
```

---

## âš™ï¸ ç¯å¢ƒå˜é‡é…ç½®

åˆ›å»ºæ–‡ä»¶: `backend/.env` (å¯é€‰ï¼Œä½¿ç”¨é»˜è®¤é…ç½®å¯ä¸åˆ›å»º)

```env
# PostgreSQL (é»˜è®¤é…ç½®å·²åœ¨ä»£ç ä¸­)
DB_HOST=127.0.0.1
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=xqxatcdj
DB_DATABASE=matmatch

# Oracle (é»˜è®¤é…ç½®å·²åœ¨ä»£ç ä¸­)
ORACLE_HOST=192.168.80.90
ORACLE_PORT=1521
ORACLE_SERVICE_NAME=ORCL
ORACLE_USERNAME=matmatch_read
ORACLE_PASSWORD=matmatch_read

# å¯é€‰é…ç½®ï¼ˆæœ‰é»˜è®¤å€¼ï¼‰
ETL_BATCH_SIZE=1000
LOG_LEVEL=INFO
PROCESSOR_CACHE_TTL=5
SIMILARITY_CACHE_TTL=60
```

> ğŸ’¡ **æç¤º**: é¡¹ç›®å·²åœ¨ `backend/core/config.py` ä¸­è®¾ç½®äº†é»˜è®¤é…ç½®ï¼Œå¦‚æ— éœ€ä¿®æ”¹å¯ä¸åˆ›å»º `.env` æ–‡ä»¶ã€‚

---

## ğŸ“¦ ä¾èµ–å®‰è£…

```bash
# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒåæ‰§è¡Œ
pip install -r backend/requirements.txt
pip install -r database/requirements.txt
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. åˆå§‹åŒ–çŸ¥è¯†åº“
```bash
cd database
python run_full_import_verification.py
```

### 2. è¿è¡ŒETLåŒæ­¥ï¼ˆå¯é€‰ï¼‰
```bash
.\venv\Scripts\python.exe backend\scripts\run_etl_full_sync.py
```

### 3. è¿è¡Œæµ‹è¯•
```bash
# å•å…ƒæµ‹è¯•
pytest backend/tests/ -v

# æ€§èƒ½æµ‹è¯•ï¼ˆéœ€è¦æ•°æ®åº“ï¼‰
pytest backend/tests/integration/ -v
```

---

## âœ… éªŒè¯é…ç½®

### æ£€æŸ¥PostgreSQLè¿æ¥
```bash
python -c "from backend.database.session import get_session; import asyncio; asyncio.run(get_session().__anext__())"
```

### æ£€æŸ¥çŸ¥è¯†åº“æ•°æ®
```bash
python -c "
from backend.database.session import get_session
from sqlalchemy import text
import asyncio

async def check():
    async with get_session() as s:
        r = await s.execute(text('SELECT COUNT(*) FROM synonyms'))
        print(f'åŒä¹‰è¯: {r.scalar()}æ¡')
asyncio.run(check())
"
```

---

## ğŸ“Š å½“å‰çŠ¶æ€

- âœ… Phase 0-2 å·²å®Œæˆ
- âœ… Phase 3.1 FastAPIæ¡†æ¶å·²å®Œæˆ
- âœ… çŸ¥è¯†åº“: 6æ¡è§„åˆ™ + 27,408ä¸ªåŒä¹‰è¯ + 1,594ä¸ªåˆ†ç±»
- âœ… ç‰©æ–™æ•°æ®: 168,409æ¡ï¼ˆå·²åŒæ­¥ï¼‰
- âœ… æµ‹è¯•: 106ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡ï¼ˆ61ä¸ªPhase 1-2 + 45ä¸ªPhase 3.1ï¼‰
- ğŸ“ Phase 3.2 æ‰¹é‡æŸ¥é‡APIå¼€å‘ä¸­

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. `.env`æ–‡ä»¶åŒ…å«æ•æ„Ÿä¿¡æ¯ï¼Œä¸è¦æäº¤åˆ°Git
2. é¦–æ¬¡ä½¿ç”¨éœ€è¦å…ˆåˆå§‹åŒ–çŸ¥è¯†åº“
3. Oracleè¿æ¥ä»…ç”¨äºETLæ•°æ®åŒæ­¥
4. å¼€å‘æ—¶å»ºè®®è®¾ç½® `LOG_LEVEL=DEBUG`

---

**éœ€è¦å¸®åŠ©ï¼Ÿ** æŸ¥çœ‹å®Œæ•´é…ç½®æŒ‡å—: `docs/configuration_guide.md`

