### **项目需求文档 (PRD): 智能物料查重工具**

**版本:** 2.0 (同步V2版需求)
**日期:** 2025年10月2日
**负责人:** 郑学恩 (信息自动化部)

---

#### **1. 项目概述**

**1.1. 项目名称**
基于结构化解析与模糊匹配的智能物料查重工具开发

**1.2. 项目背景与问题**
当前，企业ERP系统中的物料数据存在严重的不规范问题。由于物料描述（包含名称、规格型号等）由人工录入，格式不统一、写法随意，导致同一物料存在多种不同的描述形式（例如：“六角螺栓 M8*20 304” 与 “M8*20螺栓(304不锈钢)”）。系统自带的搜索功能无法有效处理词序颠倒、拼写变体或描述习惯的差异，导致查重效率低下。这使得物料申请人员在申请新物料编码时，难以发现库存中是否已存在相同物料，从而造成物料重复编码和不必要的库存积压，是长期困扰业务的管理痛点。

**1.3. 目标与价值**
**目标:** 开发一个智能的物料查重原型工具。该工具旨在通过“数据标准化”和“智能匹配”两步，解决物料查重难题。
*   **数据标准化:** 实现对不规范的、非结构化的物料描述文本的自动解析和标准化处理。
*   **智能匹配:** 基于模糊匹配算法，在用户输入新的物料描述时，能快速、准确地从现有物料库中检索并返回一个按相似度排序的物料列表。

**价值:**
*   **提升效率:** 为物料申请和审查人员提供一个高效的辅助查重工具，显著降低人工查重的时间成本。
*   **提高数据质量:** 从源头遏制新重复物料编码的产生，逐步提升ERP系统中物料数据的一致性和准确性。
*   **降低成本:** 通过减少重复采购和库存积压，间接降低运营成本。
*   **解决管理痛点:** 将模糊的文本比对问题，转变为精确的、基于属性的相似度计算，为解决长期存在的重复物料问题提供有效的技术手段。

---

#### **2. 用户与角色**

| 角色           | 描述                                         | 核心需求                                               |
| :------------- | :------------------------------------------- | :----------------------------------------------------- |
| **物料申请人** | 各业务部门需要申请新物料编码的员工。         | 在提交新物料申请前，快速查询是否存在相似或相同的物料。 |
| **物料审查人** | 备件库、设备部等负责审核新物料申请的管理员。 | 高效审核新物料申请，确保不会批准已存在物料的重复编码。 |
| **系统开发员** | 信息自动化部，负责工具的开发与维护。         | 实现文档中定义的各项功能，并确保工具的准确性和可用性。 |
| **系统管理员** | (新增) 负责维护系统规则和词典的专家用户。   | 能够方便地、动态地更新系统的解析规则，以适应业务变化。 |

---

#### **3. 功能需求 (Functional Requirements)**

**FR-01: 数据标准化与结构化模块**
*   **FR-1.1 (文本解析):** 系统必须能够解析输入的非结构化物料描述文本。
*   **FR-1.2 (属性提取):** 系统需要根据**动态维护的规则**，从文本中自动提取关键属性，如：物料名称、规格、型号、材质等。
*   **FR-1.3 (同义词/缩写处理):** 系统需基于**动态维护的词典**，在解析时能进行自动转换和归一化处理。

**FR-02: 智能匹配与查重模块**
*   **FR-2.1 (相似度计算):** 当用户输入新的物料描述后，系统需将其与数据库中所有已结构化的物料进行属性比对，并计算出相似度得分。
*   **FR-2.2 (结果排序与输出):** 系统必须返回一个按相似度从高到低排序的物料列表。
*   **FR-2.3 (Top-N 结果展示):** 输出结果明确为最相似的 Top-10 物料列表。

**FR-03: 批量查重用户界面 (GUI)**
*   **FR-3.1 (批量文件导入):** 提供一个图形用户界面，其核心功能是支持用户通过“导入文件”或“拖动文件”的方式，上传包含**多条待查物料描述**的Excel文件。
*   **FR-3.2 (批量结果展示):** 针对上传文件中的每一条物料描述，系统都需要在界面上清晰、直观地展示其对应的Top-10相似物料列表，应包含原始物料描述、物料编码和相似度得分。
*   **FR-3.3 (处理过程透明化):** 为了增强用户对匹配结果的理解和信任，界面在展示每条输入的相似物料列表时，必须一并清晰地展示系统对该条**原始输入**的解析结果。这包括：
    *   **标准化核心名称:** 系统从原始描述中提炼出的核心物料名称。
    *   **结构化属性:** 系统从原始描述中自动提取并归类的关键属性（如规格、材质等）。

**(新增) FR-04: 动态规则与词典管理界面**
*   **FR-4.1 (管理入口):** 系统必须提供一个独立的Web页面，作为“属性提取规则”和“同义词典”的管理后台。
*   **FR-4.2 (规则维护):** 管理员必须能在此页面上，对属性提取规则（如正则表达式）进行增、删、改、查（CRUD）操作。
*   **FR-4.3 (词典维护):** 管理员必须能在此页面上，对同义词/缩写词典的条目进行增、删、改、查（CRUD）操作。
*   **FR-4.4 (实时生效):** 在管理页面上所做的任何变更，都必须能立即对后续的所有查重请求生效，无需重启服务。

---

#### **4. 非功能性需求 (Non-Functional Requirements)**
*   **NFR-1 (性能):** 查询响应需快速，能够满足用户交互式查询的需求。
*   **NFR-2 (准确性):** 工具在试点物料类别（轴承、螺栓）中，应能有效识别出大部分已知的重复物料。准确性是衡量项目成功与否的关键指标。
*   **NFR-3 (可用性):** 用户界面应简洁明了，操作方便，无需复杂的培训即可上手使用。

---

#### **5. 项目范围与限制**
*   **试点物料:** 项目初期阶段，开发和测试工作将集中在“轴承”和“螺栓”这两类物料上。
*   **核心功能:** 项目的核心是实现数据的自动化解析、标准化、相似度计算和排序功能。
*   **交付物:** 一个功能完整的、带有图形用户界面的原型工具。
*   **技术栈:** 使用 Python 语言进行开发。

**5.2. 范围外 (Out-of-Scope)**
*   **ERP系统集成:** 本次开发为原型工具，暂不考虑与现有ERP系统的直接双向集成。
*   **全品类物料支持:** 初期版本不保证对“轴承”和“螺栓”以外的所有物料类别都具有高准确性。
*   **自动化审批流:** 工具提供查询辅助功能，不包含任何物料申请的自动化审批流程。

**5.3. 限制与约束**
*   **预算:** 0元。所有开发工作需利用内部资源和开源技术完成。
*   **时间:** 项目需在 **2025年10月31日** 前完成原型工具的开发与测试。